<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Tab</title>
    <link rel="stylesheet" href="newtab.css">
</head>
<body>
    <!-- Main Container - 2 Column Layout -->
    <div class="main-container">
        <!-- Left Column - Search and Shortcuts (3/4 width) -->
        <div class="left-column">
            <!-- Search Section -->
            <div class="search-section">
                <div class="search-container">
                    <div class="search-box">
                        <div class="search-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#aaa">
                                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            </svg>
                        </div>
                        <input type="text" class="search-input" placeholder="Search Google or type a URL" id="searchInput">
                        <div class="search-actions">
                            <div class="voice-search" title="Search by voice">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="#4285f4">
                                    <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                                </svg>
                            </div>
                            <div class="lens-search" title="Search by image">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="#4285f4">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shortcuts Section -->
            <div class="shortcuts-section">
                <div class="shortcuts-grid">
                    <div class="shortcut-card" data-url="https://mail.google.com">
                        <div class="shortcut-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#ea4335">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                        </div>
                        <div class="shortcut-name">Gmail</div>
                    </div>
                    <div class="shortcut-card" data-url="https://www.youtube.com">
                        <div class="shortcut-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#ea4335">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </div>
                        <div class="shortcut-name">YouTube</div>
                    </div>
                    <div class="shortcut-card" data-url="https://drive.google.com">
                        <div class="shortcut-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#34a853">
                                <path d="M7.71 6.71L2 12.41V22h6.41l5.71-5.71-6.41-6.41zM13.59 12.59L8 18.18V14h5.59zM20 2H8l-2 2v12l2 2h12l2-2V4l-2-2zm-2 12H10v-2h8v2zm0-4H10V8h8v2zm0-4H10V4h8v2z"/>
                            </svg>
                        </div>
                        <div class="shortcut-name">Drive</div>
                    </div>
                    <div class="shortcut-card add-shortcut" id="addShortcutBtn">
                        <div class="shortcut-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#888">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                        </div>
                        <div class="shortcut-name">Add</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column - Hacker News Widget (1/4 width) -->
        <div class="right-column">
            <div class="hn-widget" id="hnWidget">
                <div class="widget-header">
                    <h2>üöÄ HN</h2>
                    <div class="widget-actions">
                        <button id="forceRefreshBtn" class="widget-btn force-refresh-btn" title="Force refresh (clear cache)">üîÑüí®</button>
                        <button id="settingsBtn" class="widget-btn settings-btn" title="Settings">‚öôÔ∏è</button>
                        <button id="toggleBtn" class="widget-btn toggle-btn" title="Minimize">‚àí</button>
                    </div>
                </div>
                
                <div class="widget-content">
                    <div id="loading" class="loading">
                        üì∞ Loading...
                    </div>
                    
                    <div id="stories" class="stories">
                        <!-- Stories will be loaded here by JavaScript -->
                    </div>
                    
                    <div id="error" class="error" style="display: none;">
                        Failed to load stories.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <input type="checkbox" id="newTabToggle" checked>
                    <div>
                        <label for="newTabToggle" class="toggle-label">Use Hacker News as New Tab Page</label>
                        <div class="setting-description">Enable this to show Hacker News stories on your new tab page</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="save-btn" id="saveSettings">Save</button>
            </div>
        </div>
    </div>

    <!-- Add Shortcut Modal -->
    <div id="addShortcutModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ûï Add Shortcut</h3>
                <button class="close-btn" id="closeAddShortcutModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="quick-shortcuts">
                    <h4>Quick Add</h4>
                    <div class="quick-shortcuts-grid">
                        <div class="quick-shortcut-btn" data-service="calendar" data-name="Calendar" data-url="https://calendar.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#4285f4">
                                    <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                                </svg>
                            </div>
                            <span>Calendar</span>
                        </div>
                        <div class="quick-shortcut-btn" data-service="photos" data-name="Photos" data-url="https://photos.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#ea4335">
                                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                                </svg>
                            </div>
                            <span>Photos</span>
                        </div>
                        <div class="quick-shortcut-btn" data-service="maps" data-name="Maps" data-url="https://maps.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#34a853">
                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                </svg>
                            </div>
                            <span>Maps</span>
                        </div>
                        <div class="quick-shortcut-btn" data-service="shopping" data-name="Shopping" data-url="https://shopping.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#34a853">
                                    <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                                </svg>
                            </div>
                            <span>Shopping</span>
                        </div>
                        <div class="quick-shortcut-btn" data-service="news" data-name="News" data-url="https://news.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#ea4335">
                                    <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/>
                                </svg>
                            </div>
                            <span>News</span>
                        </div>
                        <div class="quick-shortcut-btn" data-service="translate" data-name="Translate" data-url="https://translate.google.com">
                            <div class="quick-shortcut-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#4285f4">
                                    <path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/>
                                </svg>
                            </div>
                            <span>Translate</span>
                        </div>
                    </div>
                </div>
                <div class="custom-shortcut-section">
                    <button class="custom-url-btn" id="addCustomUrlBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        Add Custom URL
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom URL Modal -->
    <div id="customUrlModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîó Add Custom URL</h3>
                <button class="close-btn" id="closeCustomUrlModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="shortcutName">Name</label>
                    <input type="text" id="shortcutName" placeholder="e.g., GitHub, Netflix, Spotify" maxlength="20">
                </div>
                <div class="form-group">
                    <label for="shortcutUrl">URL</label>
                    <input type="url" id="shortcutUrl" placeholder="https://example.com" required>
                </div>
                <div class="form-group">
                    <label for="shortcutIcon">Icon (optional)</label>
                    <select id="shortcutIcon">
                        <option value="default">Default</option>
                        <option value="github">GitHub</option>
                        <option value="netflix">Netflix</option>
                        <option value="spotify">Spotify</option>
                        <option value="twitter">Twitter</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="instagram">Instagram</option>
                        <option value="discord">Discord</option>
                        <option value="slack">Slack</option>
                        <option value="zoom">Zoom</option>
                        <option value="figma">Figma</option>
                        <option value="notion">Notion</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" id="cancelCustomUrl">Cancel</button>
                <button class="save-btn" id="saveShortcut">Add Shortcut</button>
            </div>
        </div>
    </div>

    <script src="newtab.js"></script>
</body>
</html>